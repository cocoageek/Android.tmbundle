from __future__ import division
from jinjalib.runtime import LoopContext, TemplateReference, Macro, Markup, TemplateRuntimeError, missing, concat, escape, markup_join, unicode_join, to_string, TemplateNotFound
def run(environment):
    name = '/logcat.html'

    def root(context, environment=environment):
        parent_template = None
        if 0: yield None
        parent_template = environment.get_template('base.html', '/logcat.html')
        for name, parent_block in parent_template.blocks.iteritems():
            context.blocks.setdefault(name, []).append(parent_block)
        for event in parent_template.root_render_func(context):
            yield event

    def block_content(context, environment=environment):
        if 0: yield None
        yield u'\n    <h3>Launching Logcat with Console.app</h3>\n    <pre id="output"></pre>\n'

    def block_style(context, environment=environment):
        if 0: yield None
        yield u'\n\n'

    def block_script(context, environment=environment):
        l_device_str = context.resolve('device_str')
        if 0: yield None
        yield u'\n\nif (\'%s\'!=\'\') {\n    command = "";\n    cmd(\'device=$(CocoaDialog standard-dropdown --float --items %s --string-output --text "Select a device to run logcat.")\');\n    cmd(\'echo ${device:2}"::::"${device:0}\');\n    \n    device = (TextMate.system(command, null).outputString).replace("\\n", "").replace(" ","");\n\n    if (device.indexOf("::::Ok")==-1) {\n        $(\'#output\').html(\'Logcat cancelled\');\n    } else {\n        i = device.indexOf(\'::::\');\n        device = device.substring(0,i);\n\n        command = "";\n        cmd(\'cd "$TM_BUNDLE_SUPPORT"\');\n        cmd(\'cd onebit/tmp\');\n        cmd(\'> logcat.onebit\');\n        cmd(\'cat /dev/null > logcat.onebit\')\n        cmd(\'"$ANDROID_SDK"/tools/adb -s "\'+device+\'" logcat >> logcat.onebit\');\n\n        var result = TextMate.system(command, function(){\n            $(\'h3\').html("Logcat has unexpectedly ended");\n            $(\'#output\').append("\\n"+result.outputString);\n        });\n        command = "";\n        cmd(\'open -a "console.app" "$TM_BUNDLE_SUPPORT/onebit/tmp/logcat.onebit"\');\n        TextMate.system(command, null);\n        $(\'h3\').html("Logcat launched with Console.app");\n        $(\'#output\').html(\'Closing this window will stop logcat\');\n        TextMate.isBusy = true;\n    }\n} else {\n    $(\'#output\').html(\'No Virtual Devices are running.\');\n}\n\n\n\n\n\n\n\n\n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n' % (
            l_device_str, 
            l_device_str, 
        )

    blocks = {'content': block_content, 'style': block_style, 'script': block_script}
    debug_info = '1=9&66=15&62=19&3=23&5=27&7=28'
    return locals()