from __future__ import division
from jinjalib.runtime import LoopContext, TemplateReference, Macro, Markup, TemplateRuntimeError, missing, concat, escape, markup_join, unicode_join, to_string, TemplateNotFound
def run(environment):
    name = '/deleteapp.html'

    def root(context, environment=environment):
        parent_template = None
        if 0: yield None
        parent_template = environment.get_template('base.html', '/deleteapp.html')
        for name, parent_block in parent_template.blocks.iteritems():
            context.blocks.setdefault(name, []).append(parent_block)
        for event in parent_template.root_render_func(context):
            yield event

    def block_content(context, environment=environment):
        if 0: yield None
        yield u'\n    <span class="error"></span>\n    <h3></h3>\n    <pre id="output"></pre>\n'

    def block_style(context, environment=environment):
        if 0: yield None
        yield u'\n\n'

    def block_script(context, environment=environment):
        l_device_str = context.resolve('device_str')
        l_package = context.resolve('package')
        if 0: yield None
        yield u'\n    $(\'.error\').hide();\n    cmd(\'cd "$TM_BUNDLE_SUPPORT"\');\n    cmd(\'cd onebit/\');\n    cmd(\'source bash/global.sh\');\n    cmd(\'checkBuildPath\');\n    var output = TextMate.system(command, null).outputString;\n    \n    if (output) {\n        $(\'#content\').html(output);\n    } else {\n        if (\'%s\'!=\'\' && \'%s\'!=\'\') {\n            command = "";\n            cmd(\'device=$(CocoaDialog standard-dropdown --float --items %s --string-output --text "Select a device to uninstall the app from. Are you sure you want to delete all apps with the package/namespace: %s?")\');\n            cmd(\'echo ${device:2}"::::"${device:0}\');\n            \n            device = (TextMate.system(command, null).outputString).replace("\\n", "").replace(" ","");\n\n            if (device.indexOf("::::Ok")==-1) {\n                $(\'#output\').html(\'Deletion cancelled\');\n            } else {\n                i = device.indexOf(\'::::\');\n                device = device.substring(0,i);\n\n                command = "";\n                cmd(\'"$ANDROID_SDK"/tools/adb -s "\'+device+\'" shell rm "/data/app/%s.apk"\');\n                TextMate.system(command, null);\n                $(\'#output\').html(\'"%s.apk", deleted from device \'+device+".");\n                \n            }\n        } else {\n            $(\'#output\').html(\'Either no Virtual Devices are running or the package name could not be found.\');\n        }  \n    }\n' % (
            l_device_str, 
            l_package, 
            l_device_str, 
            l_package, 
            l_package, 
            l_package, 
        )

    blocks = {'content': block_content, 'style': block_style, 'script': block_script}
    debug_info = '1=9&43=15&39=19&3=23&14=28&16=30&28=32&30=33'
    return locals()