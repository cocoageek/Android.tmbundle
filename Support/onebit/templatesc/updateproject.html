from __future__ import division
from jinjalib.runtime import LoopContext, TemplateReference, Macro, Markup, TemplateRuntimeError, missing, concat, escape, markup_join, unicode_join, to_string, TemplateNotFound
def run(environment):
    name = '/updateproject.html'

    def root(context, environment=environment):
        parent_template = None
        if 0: yield None
        parent_template = environment.get_template('base.html', '/updateproject.html')
        for name, parent_block in parent_template.blocks.iteritems():
            context.blocks.setdefault(name, []).append(parent_block)
        for event in parent_template.root_render_func(context):
            yield event

    def block_content(context, environment=environment):
        if 0: yield None
        yield u'\n<h3>Creates a new Android Project resource</h3>\n<span class="error"></span>\n\t<pre id="output"></pre>\n'

    def block_style(context, environment=environment):
        if 0: yield None
        yield u'\n\n'

    def block_script(context, environment=environment):
        l_targets = context.resolve('targets')
        l_targetids = context.resolve('targetids')
        if 0: yield None
        yield u'\n\t$(\'.error\').hide();\n    cmd(\'cd "$TM_BUNDLE_SUPPORT"\');\n    cmd(\'cd onebit/\');\n    cmd(\'source bash/global.sh\');\n    cmd(\'checkBuildPath\');\n    var output = TextMate.system(command, null).outputString;\n    if (output) {\n        $(\'#content\').html(output);\n    } else {\n        command = "";\n        cmd(\'target=$(CocoaDialog standard-dropdown --float --items '
        l_target = missing
        for l_target in l_targets:
            if 0: yield None
            yield u'"%s" ' % (
                context.call(environment.getattr(environment.getattr(l_target, 'label'), 'replace'), '"', ''), 
            )
        l_target = missing
        yield u' --text "Select a new build target")\');\n        cmd(\'cd "$TM_BUNDLE_SUPPORT"\');\n        cmd(\'cd onebit/\');\n        cmd(\'python bash/updatetarget.py ${target:2} "%s"\');\n        var result = TextMate.system(command, function(){\n            $(\'h3\').html(\'Output\');    \n            $(\'#output\').html(result.outputString); \n            TextMate.isBusy = false;      \n        });\n        TextMate.isBusy = true;\n        $(\'h3\').html(\'Updating...\');        \n    }\n' % (
            l_targetids, 
        )

    blocks = {'content': block_content, 'style': block_style, 'script': block_script}
    debug_info = '1=9&32=15&28=19&3=23&14=29&17=36'
    return locals()